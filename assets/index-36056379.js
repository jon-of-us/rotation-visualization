var Tt=Object.defineProperty;var qt=(e,t,n)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>(qt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function C(){}function kt(e,t){for(const n in t)e[n]=t[n];return e}function Oe(e){return e()}function ze(){return Object.create(null)}function ne(e){e.forEach(Oe)}function b(e){return typeof e=="function"}function T(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pt(e){return Object.keys(e).length===0}function Dt(e,...t){if(e==null){for(const r of t)r(void 0);return C}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function U(e,t,n){e.$$.on_destroy.push(Dt(t,n))}function Se(e,t,n,r){if(e){const s=Ce(e,t,n,r);return e[0](s)}}function Ce(e,t,n,r){return e[1]&&r?kt(n.ctx.slice(),e[1](r(t))):n.ctx}function Te(e,t,n,r){if(e[2]&&r){const s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const i=[],a=Math.max(t.dirty.length,s.length);for(let o=0;o<a;o+=1)i[o]=t.dirty[o]|s[o];return i}return t.dirty|s}return t.dirty}function qe(e,t,n,r,s,i){if(s){const a=Ce(t,n,r,i);e.p(a,s)}}function ke(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function Z(e,t,n){return e.set(n),t}function X(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function j(e){return document.createElement(e)}function Pe(e){return document.createTextNode(e)}function N(){return Pe(" ")}function c(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function ce(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Vt(e){return Array.from(e.childNodes)}function jt(e,t){t=""+t,e.data!==t&&(e.data=t)}function W(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ft(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}let ae;function ie(e){ae=e}function oe(){if(!ae)throw new Error("Function called outside component initialization");return ae}function De(e){oe().$$.on_mount.push(e)}function Le(e){oe().$$.on_destroy.push(e)}function Xt(){const e=oe();return(t,n,{cancelable:r=!1}={})=>{const s=e.$$.callbacks[t];if(s){const i=Ft(t,n,{cancelable:r});return s.slice().forEach(a=>{a.call(e,i)}),!i.defaultPrevented}return!0}}function Yt(e,t){return oe().$$.context.set(e,t),t}function Nt(e){return oe().$$.context.get(e)}function g(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Q=[],te=[];let x=[];const Me=[],Bt=Promise.resolve();let Ee=!1;function Wt(){Ee||(Ee=!0,Bt.then(Ve))}function fe(e){x.push(e)}function Re(e){Me.push(e)}const be=new Set;let G=0;function Ve(){if(G!==0)return;const e=ae;do{try{for(;G<Q.length;){const t=Q[G];G++,ie(t),Ut(t.$$)}}catch(t){throw Q.length=0,G=0,t}for(ie(null),Q.length=0,G=0;te.length;)te.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];be.has(n)||(be.add(n),n())}x.length=0}while(Q.length);for(;Me.length;)Me.pop()();Ee=!1,be.clear(),ie(e)}function Ut(e){if(e.fragment!==null){e.update(),ne(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(fe)}}function Ht(e){const t=[],n=[];x.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),x=t}const de=new Set;let Kt;function E(e,t){e&&e.i&&(de.delete(e),e.i(t))}function L(e,t,n,r){if(e&&e.o){if(de.has(e))return;de.add(e),Kt.c.push(()=>{de.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function Ie(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function I(e){e&&e.c()}function z(e,t,n){const{fragment:r,after_update:s}=e.$$;r&&r.m(t,n),fe(()=>{const i=e.$$.on_mount.map(Oe).filter(b);e.$$.on_destroy?e.$$.on_destroy.push(...i):ne(i),e.$$.on_mount=[]}),s.forEach(fe)}function R(e,t){const n=e.$$;n.fragment!==null&&(Ht(n.after_update),ne(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Gt(e,t){e.$$.dirty[0]===-1&&(Q.push(e),Wt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function P(e,t,n,r,s,i,a,o=[-1]){const l=ae;ie(e);const h=e.$$={fragment:null,ctx:[],props:i,update:C,not_equal:s,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:ze(),dirty:o,skip_bound:!1,root:t.target||l.$$.root};a&&a(h.root);let f=!1;if(h.ctx=n?n(e,t.props||{},(d,w,...m)=>{const p=m.length?m[0]:w;return h.ctx&&s(h.ctx[d],h.ctx[d]=p)&&(!h.skip_bound&&h.bound[d]&&h.bound[d](p),f&&Gt(e,d)),w}):[],h.update(),f=!0,ne(h.before_update),h.fragment=r?r(h.ctx):!1,t.target){if(t.hydrate){const d=Vt(t.target);h.fragment&&h.fragment.l(d),d.forEach(k)}else h.fragment&&h.fragment.c();t.intro&&E(e.$$.fragment),z(e,t.target,t.anchor),Ve()}ie(l)}class D{constructor(){_(this,"$$");_(this,"$$set")}$destroy(){R(this,1),this.$destroy=C}$on(t,n){if(!b(n))return C;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!Pt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Jt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jt);const J=[];function Qt(e,t){return{subscribe:je(e,t).subscribe}}function je(e,t=C){let n;const r=new Set;function s(o){if(T(e,o)&&(e=o,n)){const l=!J.length;for(const h of r)h[1](),J.push(h,e);if(l){for(let h=0;h<J.length;h+=2)J[h][0](J[h+1]);J.length=0}}}function i(o){s(o(e))}function a(o,l=C){const h=[o,l];return r.add(h),r.size===1&&(n=t(s,i)||C),o(e),()=>{r.delete(h),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:a}}const S=je({mousePosition:{x:0,y:0},screenMiddle:{x:0,y:0},mouseRadius:0,mouseAngle:0,traceOn:!1});function Zt(e){let t,n,r=e[0]?"Trace is on":"Trace is off",s,i,a,o,l,h,f,d;return{c(){t=j("div"),n=j("p"),s=Pe(r),i=N(),a=j("label"),o=j("input"),l=N(),h=j("span"),M(n,"class","svelte-1j3vqc4"),M(o,"type","checkbox"),M(o,"class","svelte-1j3vqc4"),M(h,"class","slider round svelte-1j3vqc4"),M(a,"class","switch svelte-1j3vqc4"),M(t,"class","container svelte-1j3vqc4")},m(w,m){F(w,t,m),X(t,n),X(n,s),X(t,i),X(t,a),X(a,o),o.checked=e[0],X(a,l),X(a,h),f||(d=[c(o,"change",e[2]),c(o,"change",e[1])],f=!0)},p(w,[m]){m&1&&r!==(r=w[0]?"Trace is on":"Trace is off")&&jt(s,r),m&1&&(o.checked=w[0])},i:C,o:C,d(w){w&&k(t),f=!1,ne(d)}}}function xt(e,t,n){let r;U(e,S,o=>n(3,r=o));let s=r.traceOn;function i(){Z(S,r.traceOn=!r.traceOn,r),console.log("traceOn",s)}function a(){s=this.checked,n(0,s)}return[s,i,a]}class $t extends D{constructor(t){super(),P(this,t,xt,Zt,T,{})}}function en(e,t,n){let r;U(e,S,i=>n(0,r=i));function s(i){Z(S,r.mousePosition.x=i.clientX,r),Z(S,r.mousePosition.y=i.clientY,r),Z(S,r.mouseRadius=Math.sqrt(Math.pow(r.screenMiddle.x-i.clientX,2)+Math.pow(r.screenMiddle.y-i.clientY,2)),r),Z(S,r.mouseAngle=Math.atan2(i.clientY-r.screenMiddle.y,i.clientX-r.screenMiddle.x),r)}return De(()=>{window.addEventListener("mousemove",s)}),Le(()=>{window.removeEventListener("mousemove",s)}),[]}class tn extends D{constructor(t){super(),P(this,t,en,null,T,{})}}function nn(e){let t,n,r,s,i;return n=new tn({}),s=new $t({}),{c(){t=j("div"),I(n.$$.fragment),r=N(),I(s.$$.fragment),M(t,"class","container svelte-uhtnsz")},m(a,o){F(a,t,o),z(n,t,null),X(t,r),z(s,t,null),i=!0},p:C,i(a){i||(E(n.$$.fragment,a),E(s.$$.fragment,a),i=!0)},o(a){L(n.$$.fragment,a),L(s.$$.fragment,a),i=!1},d(a){a&&k(t),R(n),R(s)}}}class rn extends D{constructor(t){super(),P(this,t,null,nn,T,{})}}class sn{constructor(){_(this,"currentLayerId");_(this,"setups");_(this,"renderers");_(this,"dispatchers");_(this,"needsSetup");_(this,"needsRedraw");_(this,"context");_(this,"width");_(this,"height");_(this,"autoclear");_(this,"pixelRatio");_(this,"renderLoop");_(this,"layerObserver");_(this,"layerRef");_(this,"layerSequence");_(this,"renderingLayerId");_(this,"activeLayerId");_(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:t,render:n,dispatcher:r}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.dispatchers.set(this.currentLayerId,r),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.dispatchers.delete(t),this.needsRedraw=!0}setup(t,n){this.context=t,this.layerRef=n,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const t=[...this.layerRef.children];this.layerSequence=t.map(n=>+(n.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var i;const t=this.context,n=this.width,r=this.height,s=this.pixelRatio;if(this.needsSetup){for(const[a,o]of this.setups)o({context:t,width:n,height:r}),this.setups.delete(a);this.needsSetup=!1}if(this.needsRedraw){t.setTransform(s,0,0,s,0,0),this.autoclear&&t.clearRect(0,0,n,r);for(const a of this.layerSequence)this.renderingLayerId=a,(i=this.renderers.get(a))==null||i({context:t,width:n,height:r});this.needsRedraw=!1}}setActiveLayer(t,n){this.activeLayerId!==t&&(n instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",n)),this.dispatchLayerEvent(new MouseEvent("mouseleave",n))),this.activeLayerId=t,this.activeLayerDispatcher=this.dispatchers.get(t),n instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",n)),this.dispatchLayerEvent(new MouseEvent("mouseenter",n))))}dispatchLayerEvent(t){if(this.activeLayerDispatcher){if(window.TouchEvent&&t instanceof TouchEvent){const{left:n,top:r}=t.target.getBoundingClientRect(),{clientX:s,clientY:i}=t.changedTouches[0],a={x:s-n,y:i-r,originalEvent:t};this.activeLayerDispatcher(t.type,a)}else if(t instanceof MouseEvent){const n={x:t.offsetX,y:t.offsetY,originalEvent:t};this.activeLayerDispatcher(t.type,n)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const an=e=>{const t=e*2,n=t>>16&255,r=t>>8&255,s=t&255;return`rgb(${n}, ${r}, ${s})`},on=(e,t,n)=>{const r=(e<<16|t<<8|n)/2;return r%1?0:r},un=["drawImage"],ln=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],hn=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],cn=e=>{let t;const n=document.createElement("canvas"),r=n.getContext("2d",{willReadFrequently:!0}),s=()=>{n.width=e.canvas.width,n.height=e.canvas.height};return new MutationObserver(s).observe(e.canvas,{attributeFilter:["width","height"]}),s(),new Proxy(e,{get(a,o){if(o==="_getLayerIdAtPixel")return(h,f)=>{const[d,w,m]=r.getImageData(h,f,1,1).data;return on(d,w,m)};const l=a[o];return typeof l!="function"?l:function(...h){if(hn.includes(o)){const f=an(t());r.fillStyle=f,r.strokeStyle=f}if(o==="drawImage"){const f=h.slice(1);r.fillRect(...f)}return un.includes(o)||Reflect.apply(l,r,h),Reflect.apply(l,a,h)}},set(a,o,l){return o==="_renderingLayerId"?(t=l,!0):(a[o]=l,ln.includes(o)||(r[o]=l),!0)}})};function dn(e){let t,n,r,s=`${e[0]}px`,i=`${e[1]}px`,a,o,l,h,f;const d=e[18].default,w=Se(d,e,e[17],null);return{c(){t=j("canvas"),a=N(),o=j("div"),w&&w.c(),M(t,"width",n=e[0]*e[5]),M(t,"height",r=e[1]*e[5]),M(t,"class",e[4]),M(t,"style",e[2]),W(t,"display","block"),W(t,"width",s),W(t,"height",i),W(o,"display","none")},m(m,p){F(m,t,p),e[64](t),F(m,a,p),F(m,o,p),w&&w.m(o,null),e[65](o),l=!0,h||(f=[c(t,"touchstart",ce(function(){b(e[3]?e[9]:null)&&(e[3]?e[9]:null).apply(this,arguments)})),c(t,"mousemove",function(){b(e[3]?e[8]:null)&&(e[3]?e[8]:null).apply(this,arguments)}),c(t,"pointermove",function(){b(e[3]?e[8]:null)&&(e[3]?e[8]:null).apply(this,arguments)}),c(t,"click",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"contextmenu",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"dblclick",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"mousedown",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"mouseenter",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"mouseleave",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"mouseup",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"wheel",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"touchcancel",ce(function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)})),c(t,"touchend",ce(function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)})),c(t,"touchmove",ce(function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)})),c(t,"pointerenter",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"pointerleave",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"pointerdown",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"pointerup",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"pointercancel",function(){b(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),c(t,"focus",e[19]),c(t,"blur",e[20]),c(t,"fullscreenchange",e[21]),c(t,"fullscreenerror",e[22]),c(t,"scroll",e[23]),c(t,"cut",e[24]),c(t,"copy",e[25]),c(t,"paste",e[26]),c(t,"keydown",e[27]),c(t,"keypress",e[28]),c(t,"keyup",e[29]),c(t,"auxclick",e[30]),c(t,"click",e[31]),c(t,"contextmenu",e[32]),c(t,"dblclick",e[33]),c(t,"mousedown",e[34]),c(t,"mouseenter",e[35]),c(t,"mouseleave",e[36]),c(t,"mousemove",e[37]),c(t,"mouseover",e[38]),c(t,"mouseout",e[39]),c(t,"mouseup",e[40]),c(t,"select",e[41]),c(t,"wheel",e[42]),c(t,"drag",e[43]),c(t,"dragend",e[44]),c(t,"dragenter",e[45]),c(t,"dragstart",e[46]),c(t,"dragleave",e[47]),c(t,"dragover",e[48]),c(t,"drop",e[49]),c(t,"touchcancel",e[50]),c(t,"touchend",e[51]),c(t,"touchmove",e[52]),c(t,"touchstart",e[53]),c(t,"pointerover",e[54]),c(t,"pointerenter",e[55]),c(t,"pointerdown",e[56]),c(t,"pointermove",e[57]),c(t,"pointerup",e[58]),c(t,"pointercancel",e[59]),c(t,"pointerout",e[60]),c(t,"pointerleave",e[61]),c(t,"gotpointercapture",e[62]),c(t,"lostpointercapture",e[63])],h=!0)},p(m,p){e=m,(!l||p[0]&33&&n!==(n=e[0]*e[5]))&&M(t,"width",n),(!l||p[0]&34&&r!==(r=e[1]*e[5]))&&M(t,"height",r),(!l||p[0]&16)&&M(t,"class",e[4]),(!l||p[0]&4)&&M(t,"style",e[2]);const A=p[0]&4;A&&W(t,"display","block"),(A||p[0]&5&&s!==(s=`${e[0]}px`))&&W(t,"width",s),(A||p[0]&6&&i!==(i=`${e[1]}px`))&&W(t,"height",i),w&&w.p&&(!l||p[0]&131072)&&qe(w,d,e,e[17],l?Te(d,e[17],p,null):ke(e[17]),null)},i(m){l||(E(w,m),l=!0)},o(m){L(w,m),l=!1},d(m){m&&(k(t),k(a),k(o)),e[64](null),w&&w.d(m),e[65](null),h=!1,ne(f)}}}const Fe=Symbol(),fn=()=>Nt(Fe);function mn(e,t,n){let r,{$$slots:s={},$$scope:i}=t,{width:a=640,height:o=640,pixelRatio:l=null,style:h="",autoclear:f=!0,layerEvents:d=!1}=t,{class:w=""}=t,m,p=null,A;const v=new sn;function y(){v.redraw()}function B(){return m}function H(){return p}l==null&&(typeof window<"u"?l=window.devicePixelRatio:l=2),Yt(Fe,{register:v.register,unregister:v.unregister,redraw:v.redraw}),De(()=>{const u=m.getContext("2d");d?(p=cn(u),p._renderingLayerId=v.getRenderingLayerId):p=u,v.setup(p,A)}),Le(()=>v.destroy());const Y=u=>{const ye=u.offsetX*r,ve=u.offsetY*r,_e=p._getLayerIdAtPixel(ye,ve);v.setActiveLayer(_e,u),v.dispatchLayerEvent(u)},re=u=>{const{clientX:ye,clientY:ve}=u.changedTouches[0],{left:_e,top:At}=m.getBoundingClientRect(),Ot=(ye-_e)*r,St=(ve-At)*r,Ct=p._getLayerIdAtPixel(Ot,St);v.setActiveLayer(Ct,u),v.dispatchLayerEvent(u)},ue=u=>{window.TouchEvent&&u instanceof TouchEvent&&u.preventDefault(),v.dispatchLayerEvent(u)};function se(u){g.call(this,e,u)}function K(u){g.call(this,e,u)}function le(u){g.call(this,e,u)}function ge(u){g.call(this,e,u)}function we(u){g.call(this,e,u)}function he(u){g.call(this,e,u)}function pe(u){g.call(this,e,u)}function Ne(u){g.call(this,e,u)}function Be(u){g.call(this,e,u)}function We(u){g.call(this,e,u)}function Ue(u){g.call(this,e,u)}function He(u){g.call(this,e,u)}function Ke(u){g.call(this,e,u)}function Ge(u){g.call(this,e,u)}function Je(u){g.call(this,e,u)}function Qe(u){g.call(this,e,u)}function Ze(u){g.call(this,e,u)}function xe(u){g.call(this,e,u)}function $e(u){g.call(this,e,u)}function et(u){g.call(this,e,u)}function tt(u){g.call(this,e,u)}function nt(u){g.call(this,e,u)}function rt(u){g.call(this,e,u)}function st(u){g.call(this,e,u)}function it(u){g.call(this,e,u)}function at(u){g.call(this,e,u)}function ot(u){g.call(this,e,u)}function ut(u){g.call(this,e,u)}function lt(u){g.call(this,e,u)}function ht(u){g.call(this,e,u)}function ct(u){g.call(this,e,u)}function dt(u){g.call(this,e,u)}function ft(u){g.call(this,e,u)}function mt(u){g.call(this,e,u)}function gt(u){g.call(this,e,u)}function wt(u){g.call(this,e,u)}function pt(u){g.call(this,e,u)}function yt(u){g.call(this,e,u)}function vt(u){g.call(this,e,u)}function _t(u){g.call(this,e,u)}function bt(u){g.call(this,e,u)}function Mt(u){g.call(this,e,u)}function Et(u){g.call(this,e,u)}function Lt(u){g.call(this,e,u)}function zt(u){g.call(this,e,u)}function Rt(u){te[u?"unshift":"push"](()=>{m=u,n(6,m)})}function It(u){te[u?"unshift":"push"](()=>{A=u,n(7,A)})}return e.$$set=u=>{"width"in u&&n(0,a=u.width),"height"in u&&n(1,o=u.height),"pixelRatio"in u&&n(11,l=u.pixelRatio),"style"in u&&n(2,h=u.style),"autoclear"in u&&n(12,f=u.autoclear),"layerEvents"in u&&n(3,d=u.layerEvents),"class"in u&&n(4,w=u.class),"$$scope"in u&&n(17,i=u.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&2048&&n(5,r=l??1),e.$$.dirty[0]&1&&n(16,v.width=a,v),e.$$.dirty[0]&2&&n(16,v.height=o,v),e.$$.dirty[0]&32&&n(16,v.pixelRatio=r,v),e.$$.dirty[0]&4096&&n(16,v.autoclear=f,v),e.$$.dirty[0]&71683&&v.redraw()},[a,o,h,d,w,r,m,A,Y,re,ue,l,f,y,B,H,v,i,s,se,K,le,ge,we,he,pe,Ne,Be,We,Ue,He,Ke,Ge,Je,Qe,Ze,xe,$e,et,tt,nt,rt,st,it,at,ot,ut,lt,ht,ct,dt,ft,mt,gt,wt,pt,yt,vt,_t,bt,Mt,Et,Lt,zt,Rt,It]}class gn extends D{constructor(t){super(),P(this,t,mn,dn,T,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function wn(e){let t;return{c(){t=j("div"),M(t,"data-layer-id",e[0])},m(n,r){F(n,t,r)},p:C,i:C,o:C,d(n){n&&k(t)}}}function pn(e,t,n){const{register:r,unregister:s,redraw:i}=fn(),a=Xt();let{setup:o=void 0}=t,{render:l=()=>{}}=t;const h=r({setup:o,render:l,dispatcher:a});return Le(()=>s(h)),e.$$set=f=>{"setup"in f&&n(1,o=f.setup),"render"in f&&n(2,l=f.render)},e.$$.update=()=>{e.$$.dirty&4&&i()},[h,o,l]}class me extends D{constructor(t){super(),P(this,t,pn,wn,T,{setup:1,render:2})}}let Ae;const Xe=Date.now(),Ye=e=>(e(Date.now()-Xe),Ae=window.requestAnimationFrame(()=>Ye(e)),()=>window.cancelAnimationFrame(Ae));function yn(){}Qt(Date.now()-Xe,typeof window>"u"?yn:Ye);getComputedStyle(document.body).getPropertyValue("background-color");function vn(e){let t;const n=e[4].default,r=Se(n,e,e[6],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),t=!0},p(s,i){r&&r.p&&(!t||i&64)&&qe(r,n,s,s[6],t?Te(n,s[6],i,null):ke(s[6]),null)},i(s){t||(E(r,s),t=!0)},o(s){L(r,s),t=!1},d(s){r&&r.d(s)}}}function _n(e){let t,n,r,s,i;return fe(e[5]),n=new gn({props:{width:e[0],height:e[1],$$slots:{default:[vn]},$$scope:{ctx:e}}}),{c(){t=j("div"),I(n.$$.fragment),M(t,"class","svelte-jnkp5j")},m(a,o){F(a,t,o),z(n,t,null),r=!0,s||(i=c(window,"resize",e[5]),s=!0)},p(a,[o]){const l={};o&1&&(l.width=a[0]),o&2&&(l.height=a[1]),o&64&&(l.$$scope={dirty:o,ctx:a}),n.$set(l)},i(a){r||(E(n.$$.fragment,a),r=!0)},o(a){L(n.$$.fragment,a),r=!1},d(a){a&&k(t),R(n),s=!1,i()}}}function bn(e,t,n){let{$$slots:r={},$$scope:s}=t,{width:i=0}=t,{height:a=0}=t,o,l;function h(){n(2,o=window.innerWidth),n(3,l=window.innerHeight)}return e.$$set=f=>{"width"in f&&n(0,i=f.width),"height"in f&&n(1,a=f.height),"$$scope"in f&&n(6,s=f.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&n(0,i=o-17),e.$$.dirty&8&&n(1,a=l-17)},[i,a,o,l,r,h,s]}class Mn extends D{constructor(t){super(),P(this,t,bn,_n,T,{width:0,height:1})}}let $=300;function En(e){let t,n;return t=new me({props:{render:e[0]}}),{c(){I(t.$$.fragment)},m(r,s){z(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.render=r[0]),t.$set(i)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){L(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function Ln(e,t,n){let r;return n(0,r=({context:s,width:i,height:a})=>{s.strokeStyle="white",s.beginPath(),s.arc(i/2,a/2,$,2,Math.PI*3),s.stroke()}),[r]}class zn extends D{constructor(t){super(),P(this,t,Ln,En,T,{})}}function Rn(e){let t,n;return t=new me({props:{render:e[0]}}),{c(){I(t.$$.fragment)},m(r,s){z(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.render=r[0]),t.$set(i)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){L(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function In(e,t,n){let r;U(e,S,o=>n(3,r=o));let{x:s}=t,{y:i}=t,a;return e.$$set=o=>{"x"in o&&n(1,s=o.x),"y"in o&&n(2,i=o.y)},e.$$.update=()=>{e.$$.dirty&14&&n(0,a=({context:o,width:l,height:h})=>{o.strokeStyle="rgba(255, 255, 255, 0.5)",o.beginPath(),o.moveTo(r.screenMiddle.x,r.screenMiddle.y),o.lineTo(s,i),o.lineWidth=2,o.stroke()})},[a,s,i,r]}class An extends D{constructor(t){super(),P(this,t,In,Rn,T,{x:1,y:2})}}var On=Object.defineProperty,Sn=(e,t,n)=>t in e?On(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ee=(e,t,n)=>(Sn(e,typeof t!="symbol"?t+"":t,n),n);class q{constructor(t,n,r){ee(this,"_rows"),ee(this,"_columns"),ee(this,"_values"),this._rows=Math.max(t,1),this._columns=Math.max(n,1),this._values=new Array(this._rows).fill([]).map(()=>new Array(this._columns).fill(0)),r&&(this.values=r)}get rows(){return this._rows}get columns(){return this._columns}get values(){return this._values}set values(t){const n=Math.min(t.length,this.rows),r=Math.min(t[0].length,this.columns);for(let s=0;s<n;s++)for(let i=0;i<r;i++)this.values[s][i]=t[s][i]}at(t,n){return this.values[t][n]}reset(){this.values=this.values.map(t=>t.map(()=>0))}addAColumn(){return new q(this.rows,this.columns+1,this.values)}addARow(){return new q(this.rows+1,this.columns,this.values)}equals(t){return this.rows===t.rows&&this.columns===t.columns&&this.values.reduce((n,r,s)=>n&&r.reduce((i,a,o)=>i&&t.at(s,o)===a,n),!0)}setAsIdentity(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");return this.values.forEach((t,n)=>{t.forEach((r,s)=>{this.values[n][s]=n===s?1:0})}),this}static identity(t){if(t<1)throw Error("Dimension error! Matrix dimension must be positive.");return new q(t,t).setAsIdentity()}multiply(t){if(this.columns!==t.rows)throw new Error("Dimension error! The operand matrix must have the same number of rows as 'this' matrix columns!");const n=new q(this.rows,t.columns);return n.values=n.values.map((r,s)=>r.map((i,a)=>this.values[s].reduce((o,l,h)=>o+l*t.at(h,a),0))),n}indexOf(t){for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++)if(this.values[n][r]===t)return[n,r];return[-1,-1]}max(){return this.values.reduce((t,n)=>Math.max(t,...n),-1/0)}min(){return this.values.reduce((t,n)=>Math.min(t,...n),1/0)}round(){return new q(this.rows,this.columns,this.values.map(t=>t.map(n=>Math.round(n))))}determinant(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");if(this.rows===this.columns&&this.columns===1)return this.values[0][0];let t=0,n=1;if(this.rows===2)t=this.values[0][0]*this.values[1][1]-this.values[1][0]*this.values[0][1];else for(let r=0;r<this.rows;r++){const s=this.getCofactor(0,r);t+=n*this.at(0,r)*s.determinant(),n=-n}return t}getCofactor(t,n){return new q(this.rows-1,this.columns-1,this.values.filter((r,s)=>s!==t).map(r=>r.filter((s,i)=>i!==n)))}transpose(){return new q(this.columns,this.rows,new Array(this.columns).fill([]).map((t,n)=>new Array(this.rows).fill(0).map((r,s)=>this.at(s,n))))}inverse(){if(this.rows!==this.columns)throw new Error("Dimension error! The matrix isn't squared!");const t=this.determinant();if(t===0)throw new Error("Determinant is 0, can't compute inverse.");const n=new q(this.rows,this.columns,this.values.map((r,s)=>r.map((i,a)=>Math.pow(-1,s+a)*this.getCofactor(s,a).determinant()))).transpose();return new q(this.rows,this.columns,this.values.map((r,s)=>r.map((i,a)=>n.at(s,a)/t)))}toString(){return`[${this.values.map(t=>`[${t.join(", ")}]`).join(`,
`)}]`}}class O{constructor(t){ee(this,"_values"),this._values=new Array((t||[0]).length).fill(0),t&&(this.values=t)}get rows(){return this.values.length}get values(){return this._values}set values(t){const n=Math.min(this.values.length,t.length);for(let r=0;r<n;r++)this.values[r]=t[r]}angleFrom(t){if(this.rows!==t.rows)throw new Error("To calculate the angle, vectors must have the same dimension!");const n=this.dot(t)/(this.length()*t.length());return Math.acos(n)}distanceFrom(t){if(this.rows!==t.rows)throw new Error("To calculate the distance, vectors must have the same dimension!");return this.subtract(t).length()}at(t){return this.values[t]}indexOf(t){return this.values.indexOf(t)}reset(){this.values=this.values.fill(0)}addAValue(){return this.values.push(0),new O(this.values)}equals(t){return this.rows===t.rows&&this.values.reduce((n,r,s)=>n&&t.at(s)===r,!0)}negate(){return new O(this.values.map(t=>-t))}length(){return Math.sqrt(this.squaredLength())}squaredLength(){return this.dot(this)}add(t){if(this.rows!==t.rows)throw new Error("Vectors don't have the same dimension!");return this.operateOnAllValues((n,r)=>n+t.at(r))}subtract(t){if(this.rows!==t.rows)throw new Error("Vectors don't have the same dimension!");return this.operateOnAllValues((n,r)=>n-t.at(r))}multiply(t){if(this.rows!==t.rows)throw new Error("Vectors don't have the same dimension!");return this.operateOnAllValues((n,r)=>n*t.at(r))}divide(t){if(this.rows!==t.rows)throw new Error("Vectors don't have the same dimension!");return this.operateOnAllValues((n,r)=>t.at(r)===0?n:n/t.at(r))}max(){if(this.rows===0)throw new Error("Cannot get the maximum value of an empty vector!");return Math.max(...this.values)}min(){if(this.rows===0)throw new Error("Cannot get the minimum value of an empty vector!");return Math.min(...this.values)}round(){if(this.rows===0)throw new Error("Cannot round an empty vector!");return this.operateOnAllValues(t=>Math.round(t))}scale(t){return this.operateOnAllValues(n=>n*t)}operateOnAllValues(t){return new O(this.values.map(t))}normalize(){const t=this.length();return this.operateOnAllValues(n=>n/t)}dot(t){return this.values.reduce((n,r,s)=>n+r*t.at(s),0)}cross(t){if(this.rows<3||t.rows<3)throw new Error("Cross product is possible on 3D vectors only");const n=new Array(3);return n[0]=this.at(1)*t.at(2)-this.at(2)*t.at(1),n[1]=this.at(2)*t.at(0)-this.at(0)*t.at(2),n[2]=this.at(0)*t.at(1)-this.at(1)*t.at(0),new O(n)}mix(t,n){return new O(this.values.map((r,s)=>r+n*(t.at(s)-r)))}static get360angle(t,n){if(t.rows!==3||n.rows!==3)throw new Error("Vectors must be in 3D!. You can add a 1 dimension if it is missing.");return-Math.atan2(n.cross(t).dot(new O([0,0,1]).normalize()),t.dot(n))}toString(){return`[${this.values.join(", ")}]`}}const Cn=1e-5,V=class{constructor(e){ee(this,"values",new Float32Array(4)),e!==void 0&&(this.xyzw=e)}get x(){return this.values[0]}set x(e){this.values[0]=e}get y(){return this.values[1]}set y(e){this.values[1]=e}get z(){return this.values[2]}set z(e){this.values[2]=e}get w(){return this.values[3]}set w(e){this.values[3]=e}get xy(){return[this.values[0],this.values[1]]}set xy(e){this.values[0]=e[0],this.values[1]=e[1]}get xyz(){return[this.values[0],this.values[1],this.values[2]]}set xyz(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2]}get xyzw(){return[this.values[0],this.values[1],this.values[2],this.values[3]]}set xyzw(e){this.values[0]=e[0],this.values[1]=e[1],this.values[2]=e[2],this.values[3]=e[3]}at(e){return this.values[e]}reset(){for(let e=0;e<4;e++)this.values[e]=0}copy(e){e||(e=new V);for(let t=0;t<4;t++)e.values[t]=this.values[t];return e}roll(){const e=this.x,t=this.y,n=this.z,r=this.w;return Math.atan2(2*(e*t+r*n),r*r+e*e-t*t-n*n)}pitch(){const e=this.x,t=this.y,n=this.z,r=this.w;return Math.atan2(2*(t*n+r*e),r*r-e*e-t*t+n*n)}yaw(){return Math.asin(2*(this.x*this.z-this.w*this.y))}equals(e,t=Cn){for(let n=0;n<4;n++)if(Math.abs(this.values[n]-e.at(n))>t)return!1;return!0}setIdentity(){return this.x=0,this.y=0,this.z=0,this.w=1,this}calculateW(){const e=this.x,t=this.y,n=this.z;return this.w=-Math.sqrt(Math.abs(1-e*e-t*t-n*n)),this}inverse(){const e=V.dot(this,this);if(!e)return this.xyzw=[0,0,0,0],this;const t=e?1/e:0;return this.x*=-t,this.y*=-t,this.z*=-t,this.w*=t,this}conjugate(){return this.values[0]*=-1,this.values[1]*=-1,this.values[2]*=-1,this}length(){const e=this.x,t=this.y,n=this.z,r=this.w;return Math.sqrt(e*e+t*t+n*n+r*r)}normalize(e){e||(e=this);const t=this.x,n=this.y,r=this.z,s=this.w;let i=Math.sqrt(t*t+n*n+r*r+s*s);return i?(i=1/i,e.x=t*i,e.y=n*i,e.z=r*i,e.w=s*i,e):(e.x=0,e.y=0,e.z=0,e.w=0,e)}add(e){for(let t=0;t<4;t++)this.values[t]+=e.at(t);return this}multiply(e){const t=this.values[0],n=this.values[1],r=this.values[2],s=this.values[3],i=e.x,a=e.y,o=e.z,l=e.w;return this.x=t*l+s*i+n*o-r*a,this.y=n*l+s*a+r*i-t*o,this.z=r*l+s*o+t*a-n*i,this.w=s*l-t*i-n*a-r*o,this}static dot(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w}static sum(e,t){const n=new V;return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n}static product(e,t){const n=new V,r=e.x,s=e.y,i=e.z,a=e.w,o=t.x,l=t.y,h=t.z,f=t.w;return n.x=r*f+a*o+s*h-i*l,n.y=s*f+a*l+i*o-r*h,n.z=i*f+a*h+r*l-s*o,n.w=a*f-r*o-s*l-i*h,n}static cross(e,t){const n=new V,r=e.x,s=e.y,i=e.z,a=e.w,o=t.x,l=t.y,h=t.z,f=t.w;return n.x=a*h+i*f+r*l-s*o,n.y=a*f-r*o-s*l-i*h,n.z=a*o+r*f+s*h-i*l,n.w=a*l+s*f+i*o-r*h,n}static shortMix(e,t,n){const r=new V;if(n<=0)return r.xyzw=e.xyzw,r;if(n>=1)return r.xyzw=t.xyzw,r;let s=V.dot(e,t);const i=t.copy();s<0&&(i.inverse(),s=-s);let a,o;if(s>.9999)a=1-n,o=0+n;else{const l=Math.sqrt(1-s*s),h=Math.atan2(l,s),f=1/l;a=Math.sin((1-n)*h)*f,o=Math.sin((0+n)*h)*f}return r.x=a*e.x+o*i.x,r.y=a*e.y+o*i.y,r.z=a*e.z+o*i.z,r.w=a*e.w+o*i.w,r}static mix(e,t,n){const r=new V,s=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;if(Math.abs(s)>=1)return r.xyzw=e.xyzw,r;const i=Math.acos(s),a=Math.sqrt(1-s*s);if(Math.abs(a)<.001)return r.x=e.x*.5+t.x*.5,r.y=e.y*.5+t.y*.5,r.z=e.z*.5+t.z*.5,r.w=e.w*.5+t.w*.5,r;const o=Math.sin((1-n)*i)/a,l=Math.sin(n*i)/a;return r.x=e.x*o+t.x*l,r.y=e.y*o+t.y*l,r.z=e.z*o+t.z*l,r.w=e.w*o+t.w*l,r}static fromAxisAngle(e,t){if(e.rows!==3)throw new Error("The axis vector must be in 3D!");const n=new V;t*=.5;const r=Math.sin(t);return n.x=e.at(0)*r,n.y=e.at(1)*r,n.z=e.at(2)*r,n.w=Math.cos(t),n}};let Tn=V;ee(Tn,"identity",new V().setIdentity());function qn(e){let t,n;return t=new me({props:{render:e[0]}}),{c(){I(t.$$.fragment)},m(r,s){z(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.render=r[0]),t.$set(i)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){L(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function kn(e,t,n){let r,s,i;U(e,S,l=>n(3,i=l));let a;function o(l,h,f){const d=Math.cos(h),w=Math.sin(h),m=1-d,p=l.at(0),A=l.at(1),v=l.at(2),y=f.normalize(),B=new q(3,3,[[m*y.at(0)*y.at(0)+d,m*y.at(0)*y.at(1)-w*y.at(2),m*y.at(0)*y.at(2)+w*y.at(1)],[m*y.at(0)*y.at(1)+w*y.at(2),m*y.at(1)*y.at(1)+d,m*y.at(1)*y.at(2)-w*y.at(0)],[m*y.at(0)*y.at(2)-w*y.at(1),m*y.at(1)*y.at(2)+w*y.at(0),m*y.at(2)*y.at(2)+d]]),H=new q(3,1,[[p],[A],[v]]),Y=B.multiply(H);return new O([Y.at(0,0),Y.at(1,0),Y.at(2,0)])}return e.$$.update=()=>{e.$$.dirty&8&&n(1,r=new O([Math.cos(i.mouseAngle),Math.sin(i.mouseAngle),0])),e.$$.dirty&8&&n(2,s=i.mouseRadius/$*Math.PI),e.$$.dirty&6&&n(0,a=({context:l,width:h,height:f})=>{const d=new O([h/2,f/2,0]),w=64,m=32,p=200,A=80,v=1.5,y=new O([1,1,-1]).normalize();for(let B=0;B<w;B++){const H=B/w*Math.PI*2,Y=new O([Math.cos(H),Math.sin(H),0]);for(let re=0;re<m;re++){const ue=re/m*Math.PI*2,se=Y.scale(Math.sin(ue)).add(new O([0,0,Math.cos(ue)*v]));let K=se.scale(A).add(Y.scale(p));K=o(K,s,r);const le=K.add(d),ge=.8+.2*y.dot(se),we=se.at(2)/v,he=.6,pe=Math.min(1,1-he-K.at(2)/A*he/2);l.fillStyle=`rgba(255, 100, ${255*(.75+.5*we)}, ${Math.min(ge*pe,1)})`,l.fillRect(le.at(0),le.at(1),5,5)}}})},[a,r,s,i]}class Pn extends D{constructor(t){super(),P(this,t,kn,qn,T,{})}}function Dn(e,t){return(e%t+t)%t}function Vn(e){let t,n;return t=new me({props:{render:e[0]}}),{c(){I(t.$$.fragment)},m(r,s){z(t,r,s),n=!0},p(r,[s]){const i={};s&1&&(i.render=r[0]),t.$set(i)},i(r){n||(E(t.$$.fragment,r),n=!0)},o(r){L(t.$$.fragment,r),n=!1},d(r){R(t,r)}}}function jn(e,t,n){let r;U(e,S,l=>n(4,r=l));let{x:s}=t,{y:i}=t,{trace:a=[{x:0,y:0}]}=t,o;return e.$$set=l=>{"x"in l&&n(2,s=l.x),"y"in l&&n(3,i=l.y),"trace"in l&&n(1,a=l.trace)},e.$$.update=()=>{e.$$.dirty&30&&(a.push({x:s,y:i}),a.length>200&&a.shift(),r.traceOn||n(1,a=[])),e.$$.dirty&14&&n(0,o=({context:l,width:h,height:f})=>{if(l.fillStyle="rgba(255,255,255, 0.5)",l.beginPath(),l.arc(s,i,7,0,2*Math.PI),l.fill(),!(a.length<=4)){l.strokeStyle="rgba(255, 255, 255, 0.5)",l.beginPath(),l.moveTo(a[3].x,a[3].y);for(let d=4;d<a.length;d++){if(Math.sqrt(Math.pow(a[d].x-a[d-1].x,2)+Math.pow(a[d].y-a[d-1].y,2))>$){l.moveTo(a[d].x,a[d].y);continue}l.lineTo(a[d].x,a[d].y)}l.stroke()}})},[o,a,s,i,r]}class Fn extends D{constructor(t){super(),P(this,t,jn,Vn,T,{x:2,y:3,trace:1})}}function Xn(e){let t,n,r,s;return t=new Fn({props:{x:e[1],y:e[0]}}),r=new An({props:{x:e[1],y:e[0]}}),{c(){I(t.$$.fragment),n=N(),I(r.$$.fragment)},m(i,a){z(t,i,a),F(i,n,a),z(r,i,a),s=!0},p(i,[a]){const o={};a&2&&(o.x=i[1]),a&1&&(o.y=i[0]),t.$set(o);const l={};a&2&&(l.x=i[1]),a&1&&(l.y=i[0]),r.$set(l)},i(i){s||(E(t.$$.fragment,i),E(r.$$.fragment,i),s=!0)},o(i){L(t.$$.fragment,i),L(r.$$.fragment,i),s=!1},d(i){i&&k(n),R(t,i),R(r,i)}}}function Yn(e,t,n){let r,s,i,a;return U(e,S,o=>n(3,a=o)),e.$$.update=()=>{e.$$.dirty&8&&n(2,r=Dn(a.mouseRadius+$,$*2)-$),e.$$.dirty&12&&n(1,s=a.screenMiddle.x+r*Math.cos(a.mouseAngle)),e.$$.dirty&12&&n(0,i=a.screenMiddle.y+r*Math.sin(a.mouseAngle))},[i,s,r,a]}class Nn extends D{constructor(t){super(),P(this,t,Yn,Xn,T,{})}}function Bn(e){let t,n,r,s,i,a;return t=new zn({}),r=new Pn({}),i=new Nn({}),{c(){I(t.$$.fragment),n=N(),I(r.$$.fragment),s=N(),I(i.$$.fragment)},m(o,l){z(t,o,l),F(o,n,l),z(r,o,l),F(o,s,l),z(i,o,l),a=!0},i(o){a||(E(t.$$.fragment,o),E(r.$$.fragment,o),E(i.$$.fragment,o),a=!0)},o(o){L(t.$$.fragment,o),L(r.$$.fragment,o),L(i.$$.fragment,o),a=!1},d(o){o&&(k(n),k(s)),R(t,o),R(r,o),R(i,o)}}}function Wn(e){let t,n,r,s,i,a,o;n=new rn({});function l(d){e[2](d)}function h(d){e[3](d)}let f={$$slots:{default:[Bn]},$$scope:{ctx:e}};return e[0]!==void 0&&(f.width=e[0]),e[1]!==void 0&&(f.height=e[1]),s=new Mn({props:f}),te.push(()=>Ie(s,"width",l)),te.push(()=>Ie(s,"height",h)),{c(){t=j("div"),I(n.$$.fragment),r=N(),I(s.$$.fragment),M(t,"id","app")},m(d,w){F(d,t,w),z(n,t,null),X(t,r),z(s,t,null),o=!0},p(d,[w]){const m={};w&32&&(m.$$scope={dirty:w,ctx:d}),!i&&w&1&&(i=!0,m.width=d[0],Re(()=>i=!1)),!a&&w&2&&(a=!0,m.height=d[1],Re(()=>a=!1)),s.$set(m)},i(d){o||(E(n.$$.fragment,d),E(s.$$.fragment,d),o=!0)},o(d){L(n.$$.fragment,d),L(s.$$.fragment,d),o=!1},d(d){d&&k(t),R(n),R(s)}}}function Un(e,t,n){let r;U(e,S,l=>n(4,r=l));let s,i;function a(l){s=l,n(0,s)}function o(l){i=l,n(1,i)}return e.$$.update=()=>{e.$$.dirty&3&&Z(S,r.screenMiddle={x:s/2,y:i/2},r)},[s,i,a,o]}class Hn extends D{constructor(t){super(),P(this,t,Un,Wn,T,{})}}new Hn({target:document.body});
